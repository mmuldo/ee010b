DeRotUp():

IF (UpGrayCodeStack == 11 10 00 01) and (UDRotGrayCode == 11):
    UDRotUp = 1
    UpGrayCodeStack == 00 00 00 11
    Return
ELSE IF (UpGrayCodeStack == 11 01 00 10) and (UDRotGrayCode == 11):
    UpGrayCodeStack == 00 00 00 11
    Return
ENDIF

IF (UpGrayCodeStack[3, 2] == UDRotGrayCode):
    UpGrayCodeStack >> 2
ELSE IF (UpGrayCodeStack[1, 0] != UDRotGrayCode):
    UpGrayCodeStack << 2
    UpGrayCodeStack += UDRotGrayCode
ENDIF
